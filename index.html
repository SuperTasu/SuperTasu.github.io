<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>サイト集</title>
  <link rel="icon" href="your-favicon.png" type="image/png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --bg-color: #ffffff;
      --text-color-primary: #333;
      --text-color-secondary: #666;
      --card-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      --card-border-color: rgba(0,0,0,0.05);
      --card-shadow: 0 4px 16px rgba(0,0,0,0.1);
      --icon-bg: #fff;
      --icon-shadow: 0 4px 12px rgba(0,0,0,0.15);
      --tab-active-text: #ffffff;
      --input-bg: #e9ecef;
      --memo-bg: rgba(255, 255, 255, 0.8);
      --memo-border: #dcdcdc;
      --bus-board-bg: #e8f5e8;
      --bus-card-bg: #fff;
    }

    body.dark-theme {
      --bg-color: #434343;
      --text-color-primary: #f5f5f5;
      --text-color-secondary: #aaa;
      --card-bg: linear-gradient(135deg, #2c2c2c 0%, #3a3a3a 100%);
      --card-border-color: rgba(255,255,255,0.1);
      --card-shadow: 0 4px 16px rgba(0,0,0,0.4);
      --icon-bg: #555;
      --icon-shadow: 0 4px 12px rgba(0,0,0,0.5);
      --tab-active-text: #ffffff;
      --input-bg: #3a3a3a;
      --memo-bg: rgba(40, 40, 40, 0.8);
      --memo-border: #555;
      --bus-board-bg: #2a3a2a;
      --bus-card-bg: #3c4c3c;
    }
    
    body { margin: 0; background-color: var(--bg-color); color: var(--text-color-primary); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; transition: background-color 0.3s, color 0.3s; padding: 20px; box-sizing: border-box; }
    
    .page-container { max-width: 1200px; margin: 0 auto; }
    .main-grid { display: grid; grid-template-columns: 2fr 1fr; grid-template-areas: "apps memo"; gap: 20px; margin-top: 20px; }
    .apps-area { grid-area: apps; }
    .memo-area { grid-area: memo; }
    
    .clock-area { background: var(--card-bg); box-shadow: var(--card-shadow); border-radius: 20px; padding: 15px 25px; border: 1px solid var(--card-border-color); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; }
    .clock-content-wrapper { display: flex; flex-direction: column; align-items: flex-start; gap: 15px; flex-grow: 1; }
    .datetime-row { display: flex; align-items: center; justify-content: flex-start; gap: 20px; flex-wrap: wrap; }
    #date, #clock { color: var(--text-color-primary); font-weight: bold; letter-spacing: 1px; }
    #date { font-size: 18px; }
    #clock { font-size: 24px; font-family: 'Courier New', Courier, monospace; }
    #countdown { color: #667eea; font-weight: bold; font-size: 18px; }
    .header-controls { display: flex; align-items: center; gap: 10px; position: relative; }
    .theme-switcher { position: absolute; top: -20px; right: 35px; display: flex; gap: 5px; }
    .theme-dot { width: 15px; height: 15px; border-radius: 50%; cursor: pointer; border: 2px solid var(--text-color-secondary); transition: transform 0.2s; }
    .theme-dot:hover { transform: scale(1.2); }
    .theme-dot.light { background-color: #f8f9fa; }
    .theme-dot.dark { background-color: #434343; }
    .control-icon { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: rgba(0,0,0,0.05); border-radius: 50%; color: var(--text-color-secondary); font-size: 18px; text-decoration: none; transition: all 0.2s; }
    .control-icon:hover { background: #667eea; color: white; transform: scale(1.1); }
    .time-calculator-container { display: flex; align-items: center; gap: 8px; justify-content: center; background: var(--icon-bg); color: var(--text-color-primary); padding: 6px 10px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); flex-wrap: wrap; width: fit-content; }
    .time-calculator-container label { font-size: 14px; display: inline-flex; align-items: center; gap: 4px; }
    .time-calculator-container input[type="number"] { width: 40px; padding: 4px; font-size: 14px; border-radius: 6px; border: 1px solid var(--card-border-color); background-color: var(--bg-color); color: var(--text-color-primary); text-align: center; }
    #resultTime { font-family: 'Courier New', Courier, monospace; font-weight: bold; font-size: 15px; background: rgba(0,0,0,0.05); padding: 4px 8px; border-radius: 6px; min-width: 110px; text-align: center; }
    body.dark-theme #resultTime { background: rgba(255,255,255,0.1); }
    #resetCalcBtn { background: none; border: none; font-size: 16px; color: var(--text-color-secondary); cursor: pointer; padding: 5px; line-height: 1; }
    #resetCalcBtn:hover { color: #667eea; }
    .tab-container { background: var(--card-bg); box-shadow: var(--card-shadow); margin-top: 20px; border-radius: 20px; overflow: hidden; border: 1px solid var(--card-border-color); }
    .tab-menu { display: flex; align-items: center; }
    .search-container { display: flex; align-items: center; padding: 0 15px; margin: 6px; background-color: var(--input-bg); border-radius: 16px; border: 1px solid rgba(0,0,0,0.1); }
    .search-container i { color: var(--text-color-secondary); }
    #appSearchInput { border: none; background: transparent; outline: none; padding: 10px 8px; font-size: 14px; width: 150px; color: var(--text-color-primary); transition: width 0.3s ease-in-out; }
    #appSearchInput:focus { width: 200px; }
    .tab-item { flex: 1; text-align: center; padding: 15px 20px; color: var(--text-color-secondary); text-decoration: none; font-weight: bold; font-size: 14px; position: relative; transition: all 0.3s ease; border-radius: 16px; margin: 6px; border-right: 1px solid rgba(0,0,0,0.1); cursor: pointer; white-space: nowrap; min-width: 100px; }
    .tab-item:last-child { border-right: none; }
    .tab-item:hover { background-color: rgba(102, 126, 234, 0.1); color: #667eea; transform: translateY(-2px); }
    .tab-item.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: var(--tab-active-text); box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); transform: translateY(-2px); }
    .tab-menu #tab-all { margin-right: 1px; }
    .tab-menu #tab-google { margin-left: 1px; margin-right: 1px; }
    .tab-menu #tab-sns { margin-left: 1px; }
    .grid-container { display: flex; flex-wrap: wrap; gap: 12px; justify-content: flex-start; padding: 10px; }
    .icon-item { text-align: center; width: 70px; margin: 0; }
    .icon-link { width: 55px; height: 55px; background-color: var(--icon-bg); border-radius: 20px; box-shadow: var(--icon-shadow); display: flex; align-items: center; justify-content: center; text-decoration: none; color: var(--text-color-primary); margin: 0 auto; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .icon-link:hover { transform: scale(1.1) translateY(-3px); background-color: #e6f2ff; box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
    body.dark-theme .icon-link:hover { background-color: #4a5568; }
    .icon-link i { font-size: 24px; }
    .icon-img { width: 28px; height: 28px; border-radius: 8px; object-fit: contain; }
    .label-text { font-size: 11px; margin-top: 4px; color: var(--text-color-primary); word-break: break-word; line-height: 1.1; }

    #search-wrapper { user-select: none; position: relative; z-index: 1; border-radius: 15px; overflow: hidden; }
    #search-wrapper::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: url('IMAGE_0120.PNG'); background-size: cover; background-position: center center; background-attachment: fixed; opacity: 0.5; z-index: -1; transition: opacity 0.3s ease-in-out; }
    body.dark-theme #search-wrapper::before { opacity: 0.2; }
    .main-content{padding-top:10px}

    .memo-container { display: flex; flex-direction: column; height: 100%; background: var(--memo-bg); border-radius: 15px; border: 1px solid var(--memo-border); box-shadow: var(--card-shadow); backdrop-filter: blur(5px); }
    .memo-header { padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--memo-border); }
    .memo-header h3 { margin: 0; font-size: 16px; }
    #undoBtn { background: none; border: none; font-size: 16px; color: var(--text-color-secondary); cursor: pointer; }
    #undoBtn:hover { color: #667eea; }
    #memo-textarea { flex-grow: 1; width: 100%; border: none; background: transparent; padding: 15px; font-size: 14px; resize: none; outline: none; box-sizing: border-box; color: var(--text-color-primary); border-radius: 0 0 15px 15px; }

    /* ★★ 変更: Statusタブ用のコンテナ ★★ */
    #status-container { display: none; margin-top: 20px; display: flex; flex-direction: column; gap: 20px; }
    
    .bus-display-board { background: var(--bus-board-bg); border: 3px solid #009900; border-radius: 15px; padding: 20px; box-shadow: var(--card-shadow); }
    .bus-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; flex-wrap: wrap; gap: 10px; }
    .bus-stop-name { font-size: 22px; font-weight: bold; color: #009900; }
    .direction-controls { display: flex; gap: 8px; }
    .direction-button { background-color: rgba(255,255,255,0.5); border: 2px solid #333; padding: 8px 14px; font-size: 14px; font-weight: bold; cursor: pointer; border-radius: 8px; transition: all .3s ease; color: #333; }
    body.dark-theme .direction-button { background-color: rgba(0,0,0,0.3); color: var(--text-color-primary); border-color: #777; }
    .direction-button.active { background-color: #0066cc; color: white; border-color: #0066cc; }
    .schedule-type { font-size: 14px; color: #009900; font-weight: bold; background-color: var(--icon-bg); padding: 5px 10px; border-radius: 8px; border: 2px solid #009900; }
    #justDepartedSection { margin-bottom: 15px; }
    .just-departed-info { font-size: 13px; color: #444; background-color: #e0e0e0; padding: 5px 10px; margin: 0 auto 5px; border: 1px solid #ccc; border-radius: 8px; text-align: center; }
    body.dark-theme .just-departed-info { background-color: #555; color: #ddd; border-color: #666; }
    .departures-container { display: grid; gap: 15px; }
    .bus-card { background-color: var(--bus-card-bg); border-radius: 12px; padding: 15px; display: flex; align-items: center; justify-content: space-between; border: 2px solid #009900; box-shadow: 0 2px 5px rgba(0,0,0,0.1); position: relative; }
    .bus-card__label { position: absolute; top: -12px; left: 10px; background: #009900; color: white; padding: 2px 8px; font-size: 12px; font-weight: bold; border-radius: 5px; }
    .bus-card__main { display: flex; align-items: center; gap: 20px; }
    .bus-card__time { font-size: 40px; font-weight: bold; color: #cc0000; font-family: 'Courier New', monospace; }
    .bus-card__details { display: flex; flex-direction: column; gap: 4px; }
    .bus-card__route { font-size: 16px; font-weight: bold; display: flex; align-items: center; gap: 8px; }
    .route-number { display: inline-block; border: 2px solid #0066cc; padding: 1px 8px; background-color: var(--icon-bg); color: #0066cc; font-size: 14px; border-radius: 5px; font-weight: bold; }
    .itayado-arrival { color: #cc6600; font-size: 13px; font-weight: bold; }
    .bus-card__side { text-align: right; }
    .bus-card__remaining { font-size: 24px; font-weight: bold; color: #009900; margin-bottom: 8px; }
    .detail-button { display: inline-flex; justify-content: center; align-items: center; width: 28px; height: 28px; background-color: #0066cc; color: white; border: none; border-radius: 50%; text-decoration: none; cursor: pointer; }
    .no-departure-card { text-align: center; padding: 30px; font-size: 16px; font-weight: bold; color: var(--text-color-secondary); }
    .blink { animation: blink 1s infinite; }
    @keyframes blink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0.3; } }

    /* ★★ 新規: その他のステータスのスタイル ★★ */
    .other-statuses { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
    .status-card { background: var(--card-bg); border-radius: 15px; padding: 15px; box-shadow: var(--card-shadow); }
    .status-card-title { font-size: 16px; font-weight: bold; margin: 0 0 10px 0; }
    .game-buttons { display: flex; gap: 15px; }
    .game-button { flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 12px; color: white; text-decoration: none; border-radius: 10px; font-weight: bold; font-size: 14px; transition: all .3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    .game-button.apex { background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%); }
    .game-button.splatoon { background: linear-gradient(135deg, #00d4ff 0%, #ff6b8a 100%); }
    .iframe-container { width: 100%; height: 200px; border-radius: 10px; overflow: hidden; }
    .iframe-container iframe { width: 100%; height: 100%; border: none; }
    
    @media (max-width: 900px) {
      body { padding: 10px; }
      .main-grid { grid-template-columns: 1fr; grid-template-areas: "apps" "memo"; }
      .memo-area { min-height: 250px; }
    }
  </style>
</head>
<body>
  
  <div class="page-container">
    <header class="header-area">
      <div class="clock-area">
        <div class="clock-content-wrapper">
          <div class="datetime-row"> <div id="date"></div> <div id="clock"></div> <div id="countdown"></div> </div>
          <div class="time-calculator-container">
            <i class="fas fa-calculator"></i>
            <label>+ <input id="addHours" type="number" min="0" value="0"> H</label>
            <label><input id="addMinutes" type="number" min="0" value="0"> M</label>
            <label><input id="addSeconds" type="number" min="0" value="0"> S</label>
            <span id="resultTime"></span>
            <button id="resetCalcBtn" title="リセット"><i class="fas fa-history"></i></button>
          </div>
        </div>
        <div class="header-controls">
          <div class="theme-switcher"> <div class="theme-dot light" onclick="setTheme('light')"></div> <div class="theme-dot dark" onclick="setTheme('dark')"></div> </div>
          <a href="https://sites.google.com/view/foretsy/管理者ページ" class="control-icon" target="_blank" title="ADMIN"> <i class="fas fa-cog"></i> </a>
          <a href="https://sites.google.com/view/foretsy/裂け目" class="control-icon" target="_blank" title="Portal"> <i class="fas fa-route"></i> </a>
        </div>
      </div>
    </header>

    <div class="tab-container">
      <div class="tab-menu">
        <div class="search-container"> <i class="fas fa-search"></i> <input type="text" id="appSearchInput" placeholder="検索..."> </div>
        <div class="tab-item" id="tab-all" onclick="activateTab('all')"> <i class="fas fa-th-large"></i> All Apps </div>
        <div class="tab-item" id="tab-google" onclick="activateTab('google')"> <i class="fab fa-google"></i> Google </div>
        <div class="tab-item" id="tab-sns" onclick="activateTab('sns')"> <i class="fas fa-users"></i> SNS </div>
        <div class="tab-item" id="tab-status" onclick="activateTab('status')"> <i class="fas fa-chart-line"></i> Status </div>
      </div>
    </div>

    <div class="main-grid" id="main-grid">
      <div class="apps-area">
        <div id="search-wrapper">
          <div class="main-content" id="mainContent">
            <div class="grid-container" id="gridContainer">
              <!-- アイコンリスト -->
              <div class="icon-item search-item" data-category="google" data-search-text="Google グーグル"><a href="https://www.google.com" class="icon-link"> <img src="https://www.google.com/favicon.ico" class="icon-img" alt="Google"> </a><div class="label-text">Google</div></div><div class="icon-item search-item" data-category="google" data-search-text="Gmail Google Mail メール"><a href="https://mail.google.com" target="_blank" class="icon-link"> <img src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" class="icon-img" alt="Gmail"> </a><div class="label-text">Gmail</div></div><div class="icon-item search-item" data-category="google" data-search-text="Google Calendar カレンダー"><a href="https://calendar.google.com" target="_blank" class="icon-link"> <img src="https://ssl.gstatic.com/calendar/images/dynamiclogo_2020q4/calendar_3_2x.png" class="icon-img" alt="Calendar"> </a><div class="label-text">Calendar</div></div><div class="icon-item search-item" data-category="google" data-search-text="Google Photos フォト 写真"><a href="https://photos.google.com" target="_blank" class="icon-link"> <img src="https://ssl.gstatic.com/images/branding/product/1x/photos_48dp.png" class="icon-img" alt="Photos"> </a><div class="label-text">Photos</div></div><div class="icon-item search-item" data-category="google" data-search-text="Google Drive ドライブ"><a href="https://drive.google.com" target="_blank" class="icon-link"> <img src="https://ssl.gstatic.com/images/branding/product/2x/drive_2020q4_48dp.png" class="icon-img" alt="Drive"> </a><div class="label-text">Drive</div></div><div class="icon-item search-item" data-category="other" data-search-text="Yahoo! ヤフー"> <a href="https://www.yahoo.co.jp" class="icon-link" target="_blank"> <img src="https://www.yahoo.co.jp/favicon.ico" class="icon-img" alt="Yahoo!"> </a> <div class="label-text">Yahoo!</div> </div><div class="icon-item search-item" data-category="sns" data-search-text="X Twitter ツイッター"> <a href="https://x.com/i/timeline" class="icon-link" target="_blank"> <img src="https://twitter.com/favicon.ico" class="icon-img" alt="X"> </a> <div class="label-text">X</div> </div><div class="icon-item search-item" data-category="sns" data-search-text="Instagram インスタグラム"> <a href="https://www.instagram.com" class="icon-link" target="_blank"> <img src="https://static.cdninstagram.com/rsrc.php/v3/yI/r/VsNE-OHk_8a.png" class="icon-img" alt="Instagram"> </a> <div class="label-text">Instagram</div> </div><div class="icon-item search-item" data-category="sns" data-search-text="YouTube ユーチューブ"> <a href="https://www.youtube.com/feed/subscriptions" class="icon-link" target="_blank"> <img src="https://www.youtube.com/favicon.ico" class="icon-img" alt="YouTube"> </a> <div class="label-text">YouTube</div> </div><div class="icon-item search-item" data-category="sns" data-search-text="YT Shorts YouTube ショート"> <a href="https://www.youtube.com/feed/subscriptions/shorts" class="icon-link" target="_blank"> <i class="fab fa-youtube" style="color: #ff0000;"></i> </a> <div class="label-text">YT Shorts</div> </div><div class="icon-item search-item" data-category="other" data-search-text="Remote It リモート"> <a href="https://app.remote.it" class="icon-link" target="_blank"> <i class="fas fa-desktop" style="color: #4285f4;"></i> </a> <div class="label-text">Remote It</div> </div><div class="icon-item search-item" data-category="sns" data-search-text="TikTok ティックトック"> <a href="https://www.tiktok.com" class="icon-link" target="_blank"> <img src="https://www.tiktok.com/favicon.ico" class="icon-img" alt="TikTok"> </a> <div class="label-text">TikTok</div> </div><div class="icon-item search-item" data-category="sns" data-search-text="Twitch ツイッチ"> <a href="https://www.twitch.tv" class="icon-link" target="_blank"> <img src="https://www.twitch.tv/favicon.ico" class="icon-img" alt="Twitch"> </a> <div class="label-text">Twitch</div> </div><div class="icon-item search-item" data-category="other" data-search-text="Abema アベマ"> <a href="https://abema.tv/" class="icon-link" target="_blank"> <img src="https://abema.tv/favicon.ico" class="icon-img" alt="Abema"> </a> <div class="label-text">Abema</div> </div><div class="icon-item search-item" data-category="sns" data-search-text="Discord ディスコード"> <a href="https://discord.com/channels/@me" class="icon-link" target="_blank"> <img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0a69f118df70ad7828d4_icon_clyde_blurple_RGB.svg" class="icon-img" alt="Discord"> </a> <div class="label-text">Discord</div> </div><div class="icon-item search-item" data-category="other" data-search-text="Spotify スポティファイ"> <a href="https://open.spotify.com/intl-ja" class="icon-link" target="_blank"> <img src="https://open.spotify.com/favicon.ico" class="icon-img" alt="Spotify"> </a> <div class="label-text">Spotify</div> </div><div class="icon-item search-item" data-category="other" data-search-text="神戸市交通局 地下鉄 バス"> <a href="https://kotsu.city.kobe.lg.jp/" class="icon-link" target="_blank"> <i class="fas fa-subway" style="color: #0066cc;"></i> </a> <div class="label-text">神戸市交通局</div> </div><div class="icon-item search-item" data-category="other" data-search-text="GigaFile ギガファイル便"> <a href="https://gigafile.nu/" class="icon-link" target="_blank"> <img src="https://gigafile.nu/favicon.ico" class="icon-img" alt="GigaFile便"> </a> <div class="label-text">GigaFile</div> </div><div class="icon-item search-item" data-category="other" data-search-text="ChatGPT AI"> <a href="https://chatgpt.com" class="icon-link" target="_blank"> <img src="https://chat.openai.com/favicon.ico" class="icon-img" alt="ChatGPT"> </a> <div class="label-text">ChatGPT</div> </div><div class="icon-item search-item" data-category="google" data-search-text="Google AI Gemini"> <a href="https://aistudio.google.com/prompts/new_chat" class="icon-link" target="_blank"> <i class="fas fa-brain" style="color: #4285f4;"></i> </a> <div class="label-text">Google AI</div> </div><div class="icon-item search-item" data-category="other" data-search-text="Claude AI クロード"> <a href="https://claude.ai" class="icon-link" target="_blank"> <img src="https://claude.ai/favicon.ico" class="icon-img" alt="Claude AI"> </a> <div class="label-text">Claude AI</div> </div><div class="icon-item search-item" data-category="other" data-search-text="BUSTARAIN バスタレイン"> <a href="https://sites.google.com/view/bustar/home" class="icon-link bustarain-icon" target="_blank"> <i class="fas fa-bus"></i> </a> <div class="label-text">BUSTARAIN</div> </div><div class="icon-item search-item" data-category="other" data-search-text="Answer I アンサー"> <a href="https://sites.google.com/view/answer-i/home" class="icon-link answer-i-icon" target="_blank"> <i class="fas fa-question-circle"></i> </a> <div class="label-text">Answer I</div> </div><div class="icon-item search-item" data-category="other" data-search-text="Rawkuro ブルーロック 漫画"> <a href="https://rawkuro.net/manga/bururokku004/di285hua" class="icon-link" target="_blank"> <i class="fas fa-futbol" style="color: #1e90ff;"></i> </a> <div class="label-text">Rawkuro</div> </div><div class="icon-item search-item" data-category="other" data-search-text="MN4U ブルーロック 漫画"> <a href="https://mn4u.net/tgm-84/" class="icon-link" target="_blank"> <img src="https://mn4u.net/favicon.ico" class="icon-img" alt="MN4U"> </a> <div class="label-text">MN4U</div> </div><div class="icon-item search-item" data-category="other" data-search-text="講談社 ブルーロック 漫画"> <a href="https://kmanga.kodansha.com/title/10008/episode/360423" class="icon-link" target="_blank"> <img src="https://kmanga.kodansha.com/favicon.ico" class="icon-img" alt="講談社"> </a> <div class="label-text">講談社</div> </div><div class="icon-item search-item" data-category="other" data-search-text="メルカリ フリマ"> <a href="https://www.mercari.com/jp/" class="icon-link" target="_blank"> <img src="https://mercari.com/favicon.ico" class="icon-img" alt="メルカリ"> </a> <div class="label-text">メルカリ</div> </div><div class="icon-item search-item" data-category="other" data-search-text="Yahoo!フリマ ヤフー"> <a href="https://paypayfleamarket.yahoo.co.jp/" class="icon-link" target="_blank"> <img src="https://paypayfleamarket.yahoo.co.jp/favicon.ico" class="icon-img" alt="Yahoo!フリマ"> </a> <div class="label-text">Yahoo!フリマ</div> </div><div class="icon-item search-item" data-category="other" data-search-text="ヤマト運輸 宅急便"> <a href="https://www.kuronekoyamato.co.jp/" class="icon-link" target="_blank"> <i class="fas fa-truck" style="color: #00a54f;"></i> </a> <div class="label-text">ヤマト運輸</div> </div><div class="icon-item search-item" data-category="google" data-search-text="Google Sites サイト作成"> <a href="https://sites.google.com/new" class="icon-link" target="_blank"> <i class="fas fa-palette" style="color: #4285f4;"></i> </a> <div class="label-text">Google Sites</div> </div><div class="icon-item search-item" data-category="other" data-search-text="GitHub ギットハブ"> <a href="https://github.com" class="icon-link" target="_blank"> <i class="fab fa-github" style="color: #181717;"></i> </a> <div class="label-text">GitHub</div> </div>
            </div>
          </div>
        </div>
      </div>
      <aside class="memo-area">
        <div class="memo-container">
          <div class="memo-header">
            <h3><i class="fas fa-book-open"></i> Memo</h3>
            <button id="undoBtn" title="元に戻す"><i class="fas fa-undo"></i></button>
          </div>
          <textarea id="memo-textarea" placeholder="ここにメモを入力..."></textarea>
        </div>
      </aside>
    </div>

    <div id="status-container">
        <div class="bus-display-board">
            <div class="bus-header">
                <div class="bus-stop-name">鷹取団地前</div>
                <div class="direction-controls">
                    <button id="shinkaichi-btn" class="direction-button">神戸駅前方面</button>
                    <button id="yoshidacho-btn" class="direction-button active">板宿方面</button>
                </div>
                <div class="schedule-type" id="scheduleType"></div>
            </div>
            <div id="justDepartedSection"></div>
            <div class="departures-container" id="upcomingDeparturesContainer"></div>
        </div>

        <div class="other-statuses">
            <div class="status-card">
                <h3 class="status-card-title">Game Status</h3>
                <div class="game-buttons">
                    <a href="https://apexlegendsstatus.com/current-map" class="game-button apex"> <i class="fas fa-crosshairs"></i> Apex Legends </a>
                    <a href="https://www.splatoon3-schedule.net" class="game-button splatoon"> <i class="fas fa-paint-brush"></i> Splatoon 3 </a>
                </div>
            </div>
            <div class="status-card">
                <h3 class="status-card-title">回線速度テスト</h3>
                <div class="iframe-container"><iframe src="https://fast.com/ja/" title="速度テスト"></iframe></div>
            </div>
            <div class="status-card">
                <h3 class="status-card-title">兵庫県警報・注意報</h3>
                <div class="iframe-container"><iframe src="https://weathernews.jp/onebox/warn/hyogo/2810000/" title="ウェザーニュース警報・注意報"></iframe></div>
            </div>
        </div>
    </div>
  </div>

  <script src="bus-schedule.js"></script>
  
  <script>
    const schedule=[{name:"1限",start:"08:50",end:"09:40"},{name:"休憩",start:"09:40",end:"09:50"},{name:"2限",start:"09:50",end:"10:40"},{name:"休憩",start:"10:40",end:"10:50"},{name:"3限",start:"10:50",end:"11:40"},{name:"休憩",start:"11:40",end:"11:50"},{name:"4限",start:"11:50",end:"12:40"},{name:"昼休み",start:"12:40",end:"13:20"},{name:"5限",start:"13:20",end:"14:10"},{name:"休憩",start:"14:10",end:"14:20"},{name:"6限",start:"14:20",end:"15:10"},{name:"休憩",start:"15:10",end:"15:20"},{name:"7限",start:"15:20",end:"16:10"},{name:"休憩",start:"16:10",end:"16:40"},{name:"8限",start:"16:40",end:"17:30"},{name:"休憩",start:"17:30",end:"17:40"},{name:"9限",start:"17:40",end:"18:30"}];
    const mainGrid = document.getElementById('main-grid');
    const statusContainer = document.getElementById('status-container');

    function parseTimeToDate(t){const[e,n]=t.split(":").map(Number),o=new Date;return o.setHours(e,n,0,0),o}
    function getCurrentPeriod(t){for(const e of schedule){const n=parseTimeToDate(e.start),o=parseTimeToDate(e.end);if(t>=n&&t<o)return{...e,startTime:n,endTime:o}}return null}
    function updateCountdown(t){const e=getCurrentPeriod(t),n=document.getElementById("countdown");if(e){const o=e.endTime-t,a=e.endTime-e.startTime,s=a-o,r=Math.floor(s/a*100),i=Math.floor(o/1e3),l=String(Math.floor(i/3600)).padStart(2,"0"),c=String(Math.floor(i%3600/60)).padStart(2,"0"),d=String(i%60).padStart(2,"0");n.textContent=`${e.name} 残り: ${l}:${c}:${d} (${r}%)`,document.title=`${e.name} Left: ${l}:${c}:${d}`}else n.textContent="現在は授業時間外です",document.title="授業時間外"}
    function updateClockAndDate(){const t=new Date,e=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");document.getElementById("clock").textContent=`${e}:${n}:${o}`;const a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),i=["日","月","火","水","木","金","土"][t.getDay()];document.getElementById("date").textContent=`${a}/${s}/${r}(${i})`,updateCountdown(t)}
    function setTheme(t){"dark"===t?(document.body.classList.add("dark-theme"),localStorage.setItem("siteTheme","dark")):(document.body.classList.remove("dark-theme"),localStorage.setItem("siteTheme","light"))}
    
    function activateTab(tabId) {
        document.querySelectorAll(".tab-item").forEach(t => t.classList.remove('active'));
        const activeTabElement = document.getElementById(`tab-${tabId}`);
        if(activeTabElement) activeTabElement.classList.add('active');
        
        if (tabId === 'status') {
            mainGrid.style.display = 'none';
            statusContainer.style.display = 'flex';
        } else {
            mainGrid.style.display = 'grid';
            statusContainer.style.display = 'none';
            filterIconsByCategory(tabId);
        }
        localStorage.setItem('siteActiveTab', tabId);
    }

    function filterIconsByCategory(t){document.querySelectorAll(".icon-item").forEach(e=>{"all"===t||e.dataset.category===t?e.style.display="block":e.style.display="none"})}
    function filterContent(){const t=document.getElementById("appSearchInput").value.toLowerCase(),e=document.querySelectorAll(".icon-item");if(t){activateTab('all')}else{const t=localStorage.getItem("siteActiveTab")||"all";return void activateTab(t)}e.forEach(e=>{e.dataset.searchText.toLowerCase().includes(t)?e.style.display="block":e.style.display="none"})}
    
    const TABS_ORDER=["all","google","sns","status"];
    let touchStartX=0,touchStartY=0;
    function handleTouchStart(t){touchStartX=t.changedTouches[0].screenX,touchStartY=t.changedTouches[0].screenY}
    function handleTouchEnd(t){const e=t.changedTouches[0].screenX,n=t.changedTouches[0].screenY,o=e-touchStartX,a=n-touchStartY;if(Math.abs(o)>Math.abs(a)&&Math.abs(o)>50){const t=localStorage.getItem("siteActiveTab")||"all";let e=TABS_ORDER.indexOf(t);o<0?e=(e+1)%TABS_ORDER.length:e=(e-1+TABS_ORDER.length)%TABS_ORDER.length,activateTab(TABS_ORDER[e])}}
    
    function pad(n){return String(n).padStart(2,'0');}
    function calcTime() { const now = new Date(); const addH = +document.getElementById('addHours').value || 0; const addM = +document.getElementById('addMinutes').value || 0; const addS = +document.getElementById('addSeconds').value || 0; const resultDate = new Date(now.getTime() + (addH * 3600 + addM * 60 + addS) * 1000); const h = pad(resultDate.getHours()), m = pad(resultDate.getMinutes()), s = pad(resultDate.getSeconds()); const startOfToday = new Date(); startOfToday.setHours(0, 0, 0, 0); const startOfResultDay = new Date(resultDate); startOfResultDay.setHours(0, 0, 0, 0); const dayDiff = Math.round((startOfResultDay - startOfToday) / 86400000); let dayText = dayDiff > 0 ? ` (+${dayDiff}d)` : ''; document.getElementById('resultTime').textContent = `${h}:${m}:${s}${dayText}`; }
    function resetCalc() { document.getElementById('addHours').value = 0; document.getElementById('addMinutes').value = 0; document.getElementById('addSeconds').value = 0; calcTime(); }
    
    const memoTextarea = document.getElementById('memo-textarea');
    const undoBtn = document.getElementById('undoBtn');
    let memoHistory = [localStorage.getItem('siteMemo') || ''];
    let currentHistoryIndex = 0;
    function saveMemo() { const currentText = memoTextarea.value; localStorage.setItem('siteMemo', currentText); if (currentText !== memoHistory[currentHistoryIndex]) { memoHistory = memoHistory.slice(0, currentHistoryIndex + 1); memoHistory.push(currentText); currentHistoryIndex++; } }
    function undoMemo() { if (currentHistoryIndex > 0) { currentHistoryIndex--; memoTextarea.value = memoHistory[currentHistoryIndex]; localStorage.setItem('siteMemo', memoHistory[currentHistoryIndex]); } }

    function init() {
      const savedTheme = localStorage.getItem('siteTheme') || 'light';
      setTheme(savedTheme);
      const savedTab = localStorage.getItem('siteActiveTab') || 'all';
      activateTab(savedTab);
      updateClockAndDate(); 
      resetCalc();
      
      if (window.initBusSchedule) { window.initBusSchedule(); }

      memoTextarea.value = memoHistory[0];
      memoTextarea.addEventListener('input', saveMemo);
      undoBtn.addEventListener('click', undoMemo);

      document.getElementById('appSearchInput').addEventListener('input', filterContent);
      [mainGrid, statusContainer].forEach(area => {
        area.addEventListener('touchstart', handleTouchStart, false);
        area.addEventListener('touchend', handleTouchEnd, false);
      });
      
      ['addHours', 'addMinutes', 'addSeconds'].forEach(id => { document.getElementById(id).addEventListener('input', calcTime); });
      document.getElementById('resetCalcBtn').addEventListener('click', resetCalc);
    }
    
    setInterval(() => { 
        updateClockAndDate(); 
        calcTime();
        if (window.updateBusCountdowns && document.getElementById('tab-status').classList.contains('active')) {
            window.updateBusCountdowns();
        }
    }, 1000); 
    setInterval(() => {
        if (window.updateBusDisplay && document.getElementById('tab-status').classList.contains('active')) {
            window.updateBusDisplay();
        }
    }, 30000); 
    
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
