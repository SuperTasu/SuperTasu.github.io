<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç¥æˆ¸å¸‚ãƒã‚¹ ç³»çµ±è¡¨ç¤º</title>
<style>
  body {
    background-color: #e6f5e6;
    font-family: "Hiragino Kaku Gothic ProN", sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
    transition: all 0.6s ease;
  }

  .selector-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #ffffffc7;
    padding: 20px 40px;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transition: all 0.8s ease;
  }

  .selector-container.top {
    position: fixed;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-width: 800px;
    z-index: 1000;
  }

  select, button {
    margin: 8px;
    padding: 10px 16px;
    border-radius: 8px;
    border: 1px solid #8bc48b;
    font-size: 16px;
  }

  button {
    background-color: #8bc48b;
    color: white;
    cursor: pointer;
    transition: background 0.3s;
  }

  button:hover {
    background-color: #6ba86b;
  }

  .info {
    margin-top: 110px;
    font-size: 20px;
    font-weight: bold;
    color: #2e5c2e;
    transition: opacity 0.3s ease;
  }

  iframe {
    width: 100%;
    height: 80vh;
    border: none;
    margin-top: 15px;
    transition: opacity 0.3s ease;
  }
</style>
</head>
<body>

<div id="selectors" class="selector-container">
  <select id="busStop">
    <option value="">ãƒã‚¹åœã‚’é¸æŠ</option>
    <option value="ä»Šå‡ºåœ¨å®¶">ä»Šå‡ºåœ¨å®¶</option>
    <option value="å¤¢é‡ç”º3ä¸ç›®">å¤¢é‡ç”º3ä¸ç›®</option>
  </select>

  <select id="direction">
    <option value="">æ–¹é¢ã‚’é¸æŠ</option>
  </select>

  <select id="line">
    <option value="">ç³»çµ±ã‚’é¸æŠ</option>
  </select>

  <button id="showBtn">è¡¨ç¤º</button>
</div>

<div id="info" class="info"></div>
<iframe id="resultFrame"></iframe>

<script>
const data = {
  "ä»Šå‡ºåœ¨å®¶": {
    "æ–°é–‹åœ°æ–¹é¢": {
      "3ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0341&directionId=kobe0004",
      "9ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0341&directionId=kobe0151"
    },
    "å‰ç”°ç”ºæ–¹é¢": {
      "3ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0341&directionId=kobe0003",
      "9ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0341&directionId=kobe0150"
    }
  },
  "å¤¢é‡ç”º3ä¸ç›®": {
    "é•·ç”°ãƒ»æ¿å®¿æ–¹é¢": {
      "3ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0004",
      "11ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0015",
      "40ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0053",
      "65ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0081",
      "110ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0122",
      "112ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0126"
    },
    "ç¥æˆ¸é§…æ–¹é¢": {
      "3ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0003",
      "11ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0016",
      "65ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0082",
      "110ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0123",
      "112ç³»çµ±": "https://location.its-mo.com/usersite/kobe/US0005/search/jp?busStopCode=0325&directionId=kobe0127"
    }
  }
};

const busStopSelect = document.getElementById("busStop");
const directionSelect = document.getElementById("direction");
const lineSelect = document.getElementById("line");
const showBtn = document.getElementById("showBtn");
const frame = document.getElementById("resultFrame");
const info = document.getElementById("info");
const selectors = document.getElementById("selectors");

busStopSelect.addEventListener("change", () => {
  directionSelect.innerHTML = '<option value="">æ–¹é¢ã‚’é¸æŠ</option>';
  lineSelect.innerHTML = '<option value="">ç³»çµ±ã‚’é¸æŠ</option>';
  const busStop = busStopSelect.value;
  if (busStop && data[busStop]) {
    Object.keys(data[busStop]).forEach(dir => {
      const opt = document.createElement("option");
      opt.value = dir;
      opt.textContent = dir;
      directionSelect.appendChild(opt);
    });
  }
});

directionSelect.addEventListener("change", () => {
  lineSelect.innerHTML = '<option value="">ç³»çµ±ã‚’é¸æŠ</option>';
  const busStop = busStopSelect.value;
  const direction = directionSelect.value;
  if (busStop && direction && data[busStop][direction]) {
    Object.keys(data[busStop][direction]).forEach(line => {
      const opt = document.createElement("option");
      opt.value = line;
      opt.textContent = line;
      lineSelect.appendChild(opt);
    });
  }
});

showBtn.addEventListener("click", () => {
  const busStop = busStopSelect.value;
  const direction = directionSelect.value;
  const line = lineSelect.value;
  if (busStop && direction && line) {
    const url = data[busStop][direction][line];
    info.textContent = `ğŸšŒ ${busStop} â€“ ${direction} â€“ ${line}`;
    selectors.classList.add("top");
    frame.src = url;
    frame.style.opacity = 1;
  } else {
    alert("ãƒã‚¹åœãƒ»æ–¹é¢ãƒ»ç³»çµ±ã‚’ã™ã¹ã¦é¸æŠã—ã¦ãã ã•ã„ã€‚");
  }
});
</script>
</body>
</html>
