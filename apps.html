<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>アプリ一覧</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --bg-color: #ffffff;
      --text-color-primary: #333;
      --text-color-secondary: #666;
      --card-bg: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      --card-border-color: rgba(0,0,0,0.05);
      --card-shadow: 0 4px 16px rgba(0,0,0,0.1);
      --icon-bg: #fff;
      --icon-shadow: 0 4px 12px rgba(0,0,0,0.15);
      --input-bg: #e9ecef;
    }
    body.dark-theme {
      --bg-color: #434343;
      --text-color-primary: #f5f5f5;
      --text-color-secondary: #aaa;
      --card-bg: linear-gradient(135deg, #2c2c2c 0%, #3a3a3a 100%);
      --card-border-color: rgba(255,255,255,0.1);
      --card-shadow: 0 4px 16px rgba(0,0,0,0.4);
      --icon-bg: #555;
      --icon-shadow: 0 4px 12px rgba(0,0,0,0.5);
      --input-bg: #3a3a3a;
    }
    body { margin: 0; background-color: var(--bg-color); color: var(--text-color-primary); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; transition: background-color 0.3s, color 0.3s; padding: 20px; box-sizing: border-box; }
    .page-container { max-width: 1200px; margin: 0 auto; }
    .header { padding: 10px; text-align: center; }
    .header a { text-decoration: none; font-weight: bold; color: #667eea; background: var(--input-bg); padding: 10px 20px; border-radius: 8px; }
    .search-container { display: flex; align-items: center; justify-content: center; padding: 15px; margin: 10px auto; background-color: var(--card-bg); border-radius: 16px; max-width: 500px; }
    .search-container i { color: var(--text-color-secondary); margin-right: 8px; }
    #appSearchInput { border: none; background: var(--input-bg); outline: none; padding: 10px; font-size: 14px; width: 100%; color: var(--text-color-primary); border-radius: 10px; }
    .sub-filter-tabs { display: flex; gap: 10px; padding: 10px; justify-content: center; flex-wrap: wrap; }
    .sub-filter-btn { background: var(--input-bg); color: var(--text-color-secondary); border: none; padding: 8px 16px; border-radius: 20px; font-weight: bold; cursor: pointer; font-size: 13px; }
    .sub-filter-btn.active { background: #667eea; color: white; }
    .grid-container { display: flex; flex-wrap: wrap; gap: 12px; justify-content: flex-start; padding: 10px; }
    .icon-item { text-align: center; width: 75px; margin: 0; transition: transform 0.2s ease-out; user-select: none; }
    .icon-link { width: 60px; height: 60px; background-color: var(--icon-bg); border-radius: 22px; box-shadow: var(--icon-shadow); display: flex; align-items: center; justify-content: center; text-decoration: none; color: var(--text-color-primary); margin: 0 auto; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .icon-link:hover { transform: scale(1.1) translateY(-3px); background-color: #e6f2ff; box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
    body.dark-theme .icon-link:hover { background-color: #4a5568; }
    .icon-link i { font-size: 26px; }
    .icon-img { width: 30px; height: 30px; border-radius: 8px; object-fit: contain; }
    .label-text { font-size: 10px; margin-top: 5px; color: var(--text-color-primary); word-break: break-word; line-height: 1.1; font-weight: bold; }
    .icon-item.emphasized .icon-link { animation: pulse-animation 2s infinite; border: 2px solid #4285F4; }
    body.dark-theme .icon-item.emphasized .icon-link { border-color: #8ab4f8; }
    @keyframes pulse-animation { 0% { box-shadow: 0 0 0 0 rgba(66, 133, 244, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(66, 133, 244, 0); } 100% { box-shadow: 0 0 0 0 rgba(66, 133, 244, 0); } }
    @media (max-width: 768px) {
        .grid-container { gap: 8px; justify-content: space-around; }
        .icon-item { width: 70px; }
    }
  </style>
</head>
<body>
  <div class="page-container">
    <div class="header">
        <a href="./main.html">メインページに戻る</a>
    </div>
    <div class="search-container">
      <i class="fas fa-search"></i>
      <input type="text" id="appSearchInput" placeholder="アプリを検索...">
    </div>
    <div class="sub-filter-tabs" id="sub-filter-tabs">
      <button class="sub-filter-btn active" data-category="all">All</button>
      <button class="sub-filter-btn" data-category="google">Google</button>
      <button class="sub-filter-btn" data-category="sns">SNS</button>
      <button class="sub-filter-btn" data-category="downloader">Downloader</button>
      <button class="sub-filter-btn" data-category="other">Other</button>
    </div>
    <div class="grid-container" id="gridContainer">
      <!-- アイコンはJavaScriptによってここに描画されます -->
    </div>
  </div>

  <script>
    const appData = [
        {id:1,label:"Google",url:"https://www.google.com",icon:"https://www.google.com/favicon.ico",category:"google",searchText:"Google グーグル"},
        {id:2,label:"Gmail",url:"https://mail.google.com",icon:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico",category:"google",searchText:"Gmail Google Mail メール"},
        {id:35,label:"Chat",url:"https://chat.google.com",icon:"https://ssl.gstatic.com/dynamite/images/favicon/chat_2020q4_192.png",category:"google",searchText:"Google Chat チャット", emphasized: true},
        {id:3,label:"Calendar",url:"https://calendar.google.com",icon:"https://ssl.gstatic.com/calendar/images/dynamiclogo_2020q4/calendar_3_2x.png",category:"google",searchText:"Google Calendar カレンダー"},
        {id:4,label:"Photos",url:"https://photos.google.com",icon:"https://ssl.gstatic.com/images/branding/product/1x/photos_48dp.png",category:"google",searchText:"Google Photos フォト 写真"},
        {id:5,label:"Drive",url:"https://drive.google.com",icon:"https://ssl.gstatic.com/images/branding/product/2x/drive_2020q4_48dp.png",category:"google",searchText:"Google Drive ドライブ"},
        {id:33,label:"Google Sites",url:"https://sites.google.com/new",icon:"fas fa-palette",style:"color:#4285f4;",category:"google",searchText:"Google Sites サイト作成"},
        {id:23,label:"Google AI",url:"https://aistudio.google.com/prompts/new_chat",icon:"fas fa-brain",style:"color:#4285f4;",category:"google",searchText:"Google AI Gemini"},
        {id:7,label:"X",url:"https://x.com/i/timeline",icon:"https://twitter.com/favicon.ico",category:"sns",searchText:"X Twitter ツイッター"},
        {id:8,label:"Instagram",url:"https://www.instagram.com",icon:"https://static.cdninstagram.com/rsrc.php/v3/yI/r/VsNE-OHk_8a.png",category:"sns",searchText:"Instagram インスタグラム"},
        {id:9,label:"YouTube",url:"https://www.youtube.com/feed/subscriptions",icon:"https://www.youtube.com/favicon.ico",category:"sns",searchText:"YouTube ユーチューブ"},
        {id:10,label:"YT Shorts",url:"https://www.youtube.com/feed/subscriptions/shorts",icon:"fab fa-youtube",style:"color:#ff0000;",category:"sns",searchText:"YT Shorts YouTube ショート"},
        {id:36,label:"U-NEXT",url:"https://video.unext.jp/",icon:"https://video.unext.jp/favicon.ico",category:"other",searchText:"U-NEXT ユーネクスト"},
        {id:12,label:"TikTok",url:"https://www.tiktok.com",icon:"https://www.tiktok.com/favicon.ico",category:"sns",searchText:"TikTok ティックトック"},
        {id:13,label:"Twitch",url:"https://www.twitch.tv",icon:"https://www.twitch.tv/favicon.ico",category:"sns",searchText:"Twitch ツイッチ"},
        {id:15,label:"Discord",url:"https://discord.com/channels/@me",icon:"https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0a69f118df70ad7828d4_icon_clyde_blurple_RGB.svg",category:"sns",searchText:"Discord ディスコード"},
        {id:17,label:"Y2mate",url:"https://www-y2mate.com/ja23/",icon:"fab fa-youtube",style:"color:#c4302b;",category:"downloader",searchText:"y2mate ダウンロード"},
        {id:18,label:"SpotiDown",url:"https://spotidownloader.com/jp",icon:"fab fa-spotify",style:"color:#1DB954;",category:"downloader",searchText:"Spotify Downloader ダウンロード"},
        {id:19,label:"SpotiMate",url:"https://spotimate.io/",icon:"fas fa-music",style:"color:#1DB954;",category:"downloader",searchText:"Spotify mate ダウンロード"},
        {id:6,label:"Yahoo!",url:"https://www.yahoo.co.jp",icon:"https://www.yahoo.co.jp/favicon.ico",category:"other",searchText:"Yahoo! ヤフー"},
        {id:11,label:"Remote It",url:"https://app.remote.it",icon:"fas fa-desktop",style:"color:#4285f4;",category:"other",searchText:"Remote It リモート"},
        {id:14,label:"Abema",url:"https://abema.tv/",icon:"https://abema.tv/favicon.ico",category:"other",searchText:"Abema アベマ"},
        {id:16,label:"Spotify",url:"https://open.spotify.com/intl-ja",icon:"https://open.spotify.com/favicon.ico",category:"other",searchText:"Spotify スポティファイ"},
        {id:20,label:"神戸市交通局",url:"https://kotsu.city.kobe.lg.jp/",icon:"fas fa-subway",style:"color:#0066cc;",category:"other",searchText:"神戸市交通局 地下鉄 バス"},
        {id:21,label:"GigaFile",url:"https://gigafile.nu/",icon:"https://gigafile.nu/favicon.ico",category:"other",searchText:"GigaFile ギガファイル便"},
        {id:22,label:"ChatGPT",url:"https://chatgpt.com",icon:"https://chat.openai.com/favicon.ico",category:"other",searchText:"ChatGPT AI"},
        {id:24,label:"Claude AI",url:"https://claude.ai",icon:"https://claude.ai/favicon.ico",category:"other",searchText:"Claude AI クロード"},
        {id:25,label:"BUSTARAIN",url:"https://sites.google.com/view/bustar/home",icon:"fas fa-bus",category:"other",searchText:"BUSTARAIN バスタレイン"},
        {id:26,label:"Answer I",url:"https://sites.google.com/view/answer-i/home",icon:"fas fa-question-circle",category:"other",searchText:"Answer I アンサー"},
        {id:27,label:"Rawkuro",url:"https://rawkuro.net/manga/bururokku004/di285hua",icon:"fas fa-futbol",style:"color:#1e90ff;",category:"other",searchText:"Rawkuro ブルーロック 漫画"},
        {id:28,label:"Manga4U",url:"https://mn4u.net/tgm-84/",icon:"https://mn4u.net/favicon.ico",category:"other",searchText:"MN4U ブルーロック 漫画"},
        {id:29,label:"マガポケ(ブルーロック公式)",url:"https://pocket.shonenmagazine.com/title/00617/episode/426754",icon:"https://kmanga.kodansha.com/favicon.ico",category:"other",searchText:"講談社 ブルーロック 漫画"},
        {id:30,label:"メルカリ",url:"https://www.mercari.com/jp/",icon:"https://mercari.com/favicon.ico",category:"other",searchText:"メルカリ フリマ"},
        {id:31,label:"Yahoo!フリマ",url:"https://paypayfleamarket.yahoo.co.jp/",icon:"https://paypayfleamarket.yahoo.co.jp/favicon.ico",category:"other",searchText:"Yahoo!フリマ ヤフー"},
        {id:37,label:"Amazon",url:"https://www.amazon.co.jp/",icon:"https://www.amazon.co.jp/favicon.ico",category:"other",searchText:"Amazon アマゾン"},
        {id:32,label:"ヤマト運輸",url:"https://www.kuronekoyamato.co.jp/",icon:"fas fa-truck",style:"color:#00a54f;",category:"other",searchText:"ヤマト運輸 宅急便"},
        {id:34,label:"GitHub",url:"https://github.com",icon:"fab fa-github",style:"color:#181717;",category:"other",searchText:"GitHub ギットハブ"}
    ];
    const gridContainer = document.getElementById('gridContainer');

    function renderIcons() {
      gridContainer.innerHTML = '';
      appData.forEach(app => {
        const iconHTML = app.icon.startsWith('http') ? `<img src="${app.icon}" class="icon-img" alt="${app.label}">` : `<i class="${app.icon}" style="${app.style || ''}"></i>`;
        const item = document.createElement('div');
        item.className = `icon-item search-item ${app.emphasized ? 'emphasized' : ''}`;
        item.dataset.id = app.id;
        item.dataset.category = app.category;
        item.dataset.searchText = app.searchText;
        item.innerHTML = `<a href="${app.url}" class="icon-link" target="_blank">${iconHTML}</a><div class="label-text">${app.label}</div>`;
        gridContainer.appendChild(item);
      });
    }

    function filterIconsByCategory(category) {
      document.querySelectorAll(".sub-filter-btn").forEach(btn => btn.classList.toggle('active', btn.dataset.category === category));
      localStorage.setItem('siteActiveSubFilter', category);
      filterContent();
    }

    function filterContent() {
      const s = document.getElementById("appSearchInput").value.toLowerCase();
      const c = localStorage.getItem('siteActiveSubFilter') || 'all';
      document.querySelectorAll(".icon-item").forEach(i => {
        const categoryMatch = (c === 'all' || i.dataset.category === c);
        const searchMatch = i.dataset.searchText.toLowerCase().includes(s) || i.querySelector('.label-text').textContent.toLowerCase().includes(s);
        i.style.display = (categoryMatch && searchMatch) ? 'block' : 'none';
      });
    }
    
    function setTheme(t) {
      if (t === "dark") {
        document.body.classList.add("dark-theme");
      } else {
        document.body.classList.remove("dark-theme");
      }
    }

    function init() {
      setTheme(localStorage.getItem('siteTheme') || 'light');
      renderIcons();
      filterIconsByCategory(localStorage.getItem('siteActiveSubFilter') || 'all');
      
      document.getElementById('appSearchInput').addEventListener('input', () => {
          // 検索入力時にカテゴリフィルターを「All」に戻す
          filterIconsByCategory('all');
      });
      document.querySelectorAll('.sub-filter-btn').forEach(btn => btn.addEventListener('click', () => filterIconsByCategory(btn.dataset.category)));
    }

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
